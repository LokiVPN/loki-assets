{
  "openapi": "3.0.1",
  "info": {
    "title": "BDUI Template Constructor API",
    "version": "0.0.10",
    "description": "API для Конструктора шаблонов BDUI (MVP0)"
  },
  "servers": [
    {
      "url": "/v1"
    }
  ],
  "tags": [
    {
      "name": "AdminControl",
      "description": "Методы управления шаблонами (админка)."
    },
    {
      "name": "Public",
      "description": "Методы получения шаблонов для конечного потребителя."
    }
  ],
  "components": {
    "securitySchemes": {
      "ApiKeyAuth": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-Key"
      }
    },
    "parameters": {
      "XAppVersion": {
        "name": "X-App-Version",
        "in": "header",
        "required": true,
        "schema": {
          "type": "string"
        },
        "description": "Версия приложения"
      },
      "XAppPlatform": {
        "name": "X-App-Platform",
        "in": "header",
        "required": true,
        "schema": {
          "type": "string"
        },
        "description": "Версия Платформы"
      },
      "X-Request-ID": {
        "name": "X-Request-ID",
        "in": "header",
        "required": true,
        "schema": {
          "type": "string"
        },
        "description": "Идентификатор для трассировки"
      },
      "XUserId": {
        "name": "X-User-Id",
        "in": "header",
        "required": true,
        "schema": {
          "type": "string"
        },
        "description": "ID пользователя Uzum Bank"
      },
      "XLocale": {
        "name": "X-Locale",
        "in": "header",
        "required": true,
        "schema": {
          "type": "string"
        },
        "description": "Язык приложения"
      }
    },
    "responses": {
      "ErrorResponse": {
        "description": "Ответ с ошибкой",
        "content": {
          "application/json": {
            "schema": {
              "type": "object",
              "properties": {
                "baseError": {
                  "$ref": "#/components/schemas/BaseErrorSchema"
                },
                "errors": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ErrorSchema"
                  }
                },
                "meta": {
                  "type": "object",
                  "meta": {
                    "type": "object",
                    "additionalProperties": true,
                    "description": "Опциональные метаданные об ошибке (может отсутствовать)."
                  }
                }
              }
            }
          }
        }
      }
    },
    "schemas": {
      "BaseErrorSchema": {
        "description": "Единичная ошибка",
        "type": "object",
        "required": [
          "code"
        ],
        "properties": {
          "code": {
            "type": "string",
            "enum": [
              "bad_request",
              "unauthorized",
              "internal_server_error",
              "unprocessable_entity",
              "not_found"
            ]
          },
          "message": {
            "type": "string"
          },
          "field": {
            "type": "string"
          }
        }
      },
      "ErrorSchema": {
        "description": "Единичная ошибка",
        "type": "object",
        "required": [
          "message",
          "field"
        ],
        "properties": {
          "code": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "field": {
            "type": "string"
          }
        }
      },
      "Width": {
        "type": "object",
        "description": "Определяет способ вычисления ширины и, при необходимости, числовое значение.",
        "properties": {
          "type": {
            "type": "string",
            "description": "Определяет способ вычисления ширины: fixed — фиксированная; wrap_content — по контенту; parent — равна родителю (по умолчанию).",
            "enum": [
              "fixed",
              "wrap_content",
              "parent"
            ],
            "default": "parent",
            "x-oapi-codegen-extra-tags": {
              "validate": "required,oneof=fixed wrap_content parent"
            }
          },
          "value": {
            "type": "integer",
            "description": "Числовое значение ширины (px). Используется только если type = fixed.",
            "minimum": -128,
            "maximum": 127,
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,required"
            }
          }
        },
        "required": [
          "type"
        ]
      },
      "Height": {
        "type": "object",
        "description": "Определяет способ вычисления высоты и, при необходимости, числовое значение.",
        "properties": {
          "type": {
            "type": "string",
            "description": "Определяет способ вычисления высоты: fixed — фиксированная; wrap_content — по контенту; parent — равна родителю (по умолчанию).",
            "enum": [
              "fixed",
              "wrap_content",
              "parent"
            ],
            "default": "parent",
            "x-oapi-codegen-extra-tags": {
              "validate": "required,oneof=fixed wrap_content parent"
            }
          },
          "value": {
            "type": "integer",
            "description": "Числовое значение высоты (px). Используется только если type = fixed.",
            "minimum": -128,
            "maximum": 127,
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,min=-128,max=127"
            }
          }
        },
        "required": [
          "type"
        ]
      },
      "Margin": {
        "type": "object",
        "description": "Внешние отступы вокруг компонента.",
        "properties": {
          "top": {
            "type": "integer",
            "description": "Отступ сверху.",
            "minimum": -128,
            "maximum": 127,
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,min=-128,max=127"
            }
          },
          "bottom": {
            "type": "integer",
            "description": "Отступ снизу.",
            "minimum": -128,
            "maximum": 127,
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,min=-128,max=127"
            }
          },
          "left": {
            "type": "integer",
            "description": "Отступ слева.",
            "minimum": -128,
            "maximum": 127,
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,min=-128,max=127"
            }
          },
          "right": {
            "type": "integer",
            "description": "Отступ справа.",
            "minimum": -128,
            "maximum": 127,
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,min=-128,max=127"
            }
          }
        }
      },
      "Orientation": {
        "type": "string",
        "description": "ориентация (направление) элемента",
        "enum": [
          "vertical",
          "horizontal",
          "vertical-reverse",
          "horizontal-reverse"
        ]
      },
      "Shape": {
        "type": "object",
        "description": "Форма блока/изображения.",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип фигуры: rounded-rect — прямоугольник с закруглёнными углами; circle — окружность.",
            "enum": [
              "rounded-rect",
              "circle"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "required,oneof=rounded-rect circle"
            }
          },
          "cornerRadius": {
            "type": "object",
            "description": "Скругления углов, используется только при type='rounded-rect'.",
            "properties": {
              "topLeft": {
                "type": "integer",
                "description": "Радиус верхнего левого угла (px).",
                "minimum": -128,
                "maximum": 127,
                "x-oapi-codegen-extra-tags": {
                  "validate": "omitempty,min=-128,max=127"
                }
              },
              "topRight": {
                "type": "integer",
                "description": "Радиус верхнего правого угла (px).",
                "minimum": -128,
                "maximum": 127,
                "x-oapi-codegen-extra-tags": {
                  "validate": "omitempty,min=-128,max=127"
                }
              },
              "bottomLeft": {
                "type": "integer",
                "description": "Радиус нижнего левого угла (px).",
                "minimum": -128,
                "maximum": 127,
                "x-oapi-codegen-extra-tags": {
                  "validate": "omitempty,min=-128,max=127"
                }
              },
              "bottomRight": {
                "type": "integer",
                "description": "Радиус нижнего правого угла (px).",
                "minimum": -128,
                "maximum": 127,
                "x-oapi-codegen-extra-tags": {
                  "validate": "omitempty,min=-128,max=127"
                }
              }
            }
          }
        },
        "required": [
          "type"
        ]
      },
      "Color": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Название (идентификатор) цвета из заданного списка",
            "enum": [
              "surface.primary",
              "surface.secondary",
              "container.primary",
              "container.secondary",
              "text.primary",
              "text.secondary",
              "text.tertiary",
              "text.quaternary",
              "text.brand",
              "text.transparency",
              "text.blueGray",
              "text.red",
              "text.green",
              "element.primary",
              "element.secondary",
              "element.tertiary",
              "element.quaternary",
              "element.quinary",
              "element.quinaryDark",
              "element.senary",
              "element.onContainer",
              "element.tabMenuActive",
              "element.productListButton",
              "element.error",
              "transparency.full",
              "transparency.primary",
              "transparency.secondary",
              "transparency.tertiary",
              "transparency.tertiaryBlack",
              "transparency.quinary",
              "transparency.modalBackground",
              "transparency.forCards",
              "static.black",
              "static.grayDark",
              "static.grayExtraDark",
              "static.white",
              "static.red",
              "static.orange",
              "static.green",
              "static.black60",
              "static.black40",
              "static.black24",
              "static.black12",
              "static.white90",
              "static.white80",
              "static.white40",
              "brand.brand1",
              "brand.brand2",
              "brand.brand3",
              "brand.brand4",
              "brand.brand5"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "required,oneof=surface.primary surface.secondary container.primary container.secondary text.primary text.secondary text.tertiary text.quaternary text.brand text.transparency text.blueGray text.red text.green element.primary element.secondary element.tertiary element.quaternary element.quinary element.quinaryDark element.senary element.onContainer element.tabMenuActive element.productListButton element.error transparency.full transparency.primary transparency.secondary transparency.tertiary transparency.tertiaryBlack transparency.quinary transparency.modalBackground transparency.forCards static.black static.grayDark static.grayExtraDark static.white static.red static.orange static.green static.black60 static.black40 static.black24 static.black12 static.white90 static.white80 static.white40 brand.brand1 brand.brand2 brand.brand3 brand.brand4 brand.brand5"
            }
          },
          "version": {
            "type": "string",
            "description": "Версия цвета (для брендовых): static/v600/v550/v500/v400/v300/v200/v100/v50/v10/v0",
            "enum": [
              "static",
              "v600",
              "v550",
              "v500",
              "v400",
              "v300",
              "v200",
              "v100",
              "v50",
              "v10",
              "v0"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,oneof=static v600 v550 v500 v400 v300 v200 v100 v50 v10 v0"
            }
          },
          "opacity": {
            "type": "number",
            "description": "Непрозрачность. Специфично для iOS",
            "minimum": 0,
            "maximum": 1,
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,min=0,max=1"
            }
          }
        },
        "required": [
          "name"
        ]
      },
      "Gradient": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип градиента (например, 'linear', 'radial').",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "colors": {
            "type": "array",
            "description": "Массив цветов для градиента.",
            "items": {
              "$ref": "#/components/schemas/Color"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "required,dive"
            }
          },
          "start": {
            "type": "string",
            "description": "Начальная точка (напр., 'top', 'left', 'center').",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "end": {
            "type": "string",
            "description": "Конечная точка (напр., 'bottom').",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          }
        },
        "required": [
          "type",
          "colors",
          "start",
          "end"
        ]
      },
      "BlockAttributes": {
        "type": "object",
        "properties": {
          "width": {
            "$ref": "#/components/schemas/Width",
            "description": "Задает ширину блока (fixed, wrap_content, parent)."
          },
          "height": {
            "$ref": "#/components/schemas/Height",
            "description": "Задает высоту блока (fixed, wrap_content, parent)."
          },
          "orientation": {
            "$ref": "#/components/schemas/Orientation",
            "description": "Ориентация содержимого (по умолчанию vertical).",
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,oneof=vertical horizontal vertical-reverse horizontal-reverse"
            }
          },
          "isScrollable": {
            "type": "boolean",
            "description": "Доступна ли прокрутка содержимого контейнера."
          },
          "alignment": {
            "type": "string",
            "enum": [
              "start",
              "center",
              "end"
            ],
            "description": "Выравнивание в зависимости от ориентации",
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,oneof=start center end"
            }
          },
          "margin": {
            "$ref": "#/components/schemas/Margin",
            "description": "Внешние отступы (top, bottom, left, right)."
          },
          "position": {
            "type": "string",
            "enum": [
              "sticky"
            ],
            "description": "Фиксированное положение при прокрутке: только sticky.",
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,oneof=sticky"
            }
          },
          "shape": {
            "$ref": "#/components/schemas/Shape",
            "description": "Форма блока."
          },
          "background": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Color",
                "description": "Фон: простой цвет."
              },
              {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Gradient"
                },
                "minItems": 1,
                "description": "Фон: градиент."
              }
            ]
          }
        }
      },
      "TextAttributes": {
        "type": "object",
        "properties": {
          "width": {
            "$ref": "#/components/schemas/Width"
          },
          "height": {
            "$ref": "#/components/schemas/Height"
          },
          "margin": {
            "$ref": "#/components/schemas/Margin"
          },
          "color": {
            "$ref": "#/components/schemas/Color"
          },
          "background": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Color"
              },
              {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Gradient"
                },
                "minItems": 1
              }
            ]
          },
          "fontSize": {
            "type": "integer",
            "description": "Размер шрифта (px).",
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,min=-128,max=127"
            }
          },
          "fontStyle": {
            "type": "string",
            "description": "Предустановленный стиль текста",
            "enum": [
              "Body",
              "Heading",
              "Title",
              "Subtitle"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,oneof=Body Heading Title Subtitle"
            }
          },
          "alignment": {
            "type": "string",
            "enum": [
              "start",
              "center",
              "end"
            ],
            "description": "Горизонтальное выравнивание текста",
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,oneof=start center end"
            }
          }
        }
      },
      "Text": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип компонента (например, 'Text').",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "name": {
            "type": "string",
            "description": "Человекочитаемое имя компонента в рамках шаблона.",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "attributes": {
            "$ref": "#/components/schemas/TextAttributes",
            "description": "Атрибуты форматирования текста.",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "containsHtml": {
            "type": "boolean",
            "description": "Признак наличия HTML в content."
          },
          "content": {
            "type": "string",
            "description": "Текстовое содержимое.",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "analytics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Analytics"
            },
            "description": "Продуктовая аналитика.",
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,dive"
            }
          }
        },
        "required": [
          "type",
          "name",
          "attributes",
          "content"
        ]
      },
      "ImageAttributes": {
        "type": "object",
        "properties": {
          "width": {
            "$ref": "#/components/schemas/Width",
            "description": "Ширина изображения."
          },
          "height": {
            "$ref": "#/components/schemas/Height",
            "description": "Высота изображения."
          },
          "margin": {
            "$ref": "#/components/schemas/Margin",
            "description": "Внешние отступы."
          },
          "shape": {
            "$ref": "#/components/schemas/Shape",
            "description": "Форма: rounded-rect/circle."
          },
          "scale": {
            "type": "string",
            "description": "Масштабирование: fill (заполнить) или fit (вписать).",
            "enum": [
              "fill",
              "fit"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,oneof=fill fit"
            }
          },
          "background": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Color",
                "description": "Фон: цвет."
              },
              {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Gradient"
                },
                "minItems": 1,
                "description": "Фон: градиент."
              }
            ]
          }
        }
      },
      "Image": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип компонента ('Image').",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "name": {
            "type": "string",
            "description": "Имя компонента.",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "url": {
            "type": "object",
            "description": "URL для тёмной и светлой версий.",
            "properties": {
              "type": {
                "type": "string",
                "description": "Обычно 'ImageUrl'.",
                "x-oapi-codegen-extra-tags": {
                  "validate": "required"
                }
              },
              "dark": {
                "type": "string",
                "description": "URL для тёмной темы.",
                "x-oapi-codegen-extra-tags": {
                  "validate": "required,url"
                }
              },
              "light": {
                "type": "string",
                "description": "URL для светлой темы.",
                "x-oapi-codegen-extra-tags": {
                  "validate": "required,url"
                }
              }
            },
            "required": [
              "type",
              "dark",
              "light"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "attributes": {
            "$ref": "#/components/schemas/ImageAttributes",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "analytics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Analytics"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,dive"
            }
          }
        },
        "required": [
          "type",
          "name",
          "url",
          "attributes"
        ]
      },
      "VideoAttributes": {
        "type": "object",
        "properties": {
          "isRepeating": {
            "type": "boolean",
            "description": "Видео на повторе",
            "default": false
          },
          "width": {
            "$ref": "#/components/schemas/Width"
          },
          "height": {
            "$ref": "#/components/schemas/Height"
          },
          "margin": {
            "$ref": "#/components/schemas/Margin"
          },
          "shape": {
            "$ref": "#/components/schemas/Shape"
          },
          "scale": {
            "type": "string",
            "enum": [
              "fill",
              "fit"
            ],
            "description": "Масштабирование видео.",
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,oneof=fill fit"
            }
          },
          "background": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Color"
              },
              {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Gradient"
                },
                "minItems": 1
              }
            ]
          }
        }
      },
      "Video": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип компонента ('Video').",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "name": {
            "type": "string",
            "description": "Имя компонента.",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "url": {
            "type": "object",
            "description": "URL для тёмной и светлой версий.",
            "properties": {
              "type": {
                "type": "string",
                "description": "Обычно 'VideoUrl'.",
                "x-oapi-codegen-extra-tags": {
                  "validate": "required"
                }
              },
              "dark": {
                "type": "string",
                "description": "URL для тёмной темы.",
                "x-oapi-codegen-extra-tags": {
                  "validate": "required,url"
                }
              },
              "light": {
                "type": "string",
                "description": "URL для светлой темы.",
                "x-oapi-codegen-extra-tags": {
                  "validate": "required,url"
                }
              }
            },
            "required": [
              "type",
              "dark",
              "light"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "attributes": {
            "$ref": "#/components/schemas/VideoAttributes",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "analytics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Analytics"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,dive"
            }
          }
        },
        "required": [
          "type",
          "name",
          "url",
          "attributes"
        ]
      },
      "TopbarAttributes": {
        "type": "object",
        "properties": {
          "alignContent": {
            "type": "string",
            "enum": [
              "left",
              "center",
              "right"
            ],
            "description": "Горизонтальное выравнивание содержимого верхней панели.",
            "x-oapi-codegen-extra-tags": {
              "validate": "required,oneof=left center right"
            }
          }
        },
        "required": [
          "alignContent"
        ]
      },
      "TopBar": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип компонента ('TopBar').",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "name": {
            "type": "string",
            "description": "Имя компонента.",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "attributes": {
            "$ref": "#/components/schemas/TopbarAttributes",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "leftItem": {
            "type": "object",
            "description": "Левый кликабельный экшн (type: close/back).",
            "properties": {
              "action": {
                "$ref": "#/components/schemas/Actions",
                "x-oapi-codegen-extra-tags": {
                  "validate": "required"
                }
              },
              "analytics": {
                "type": "array",
                "items": {
                  "$ref": "#/components/schemas/Analytics"
                },
                "x-oapi-codegen-extra-tags": {
                  "validate": "omitempty,dive"
                }
              }
            },
            "additionalProperties": false,
            "nullable": true
          },
          "rightItem": {
            "type": "array",
            "description": "Правые кликабельные элементы (до 2).",
            "maxItems": 2,
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,max=2,dive"
            },
            "items": {
              "oneOf": [
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "icon"
                      ],
                      "description": "Иконка",
                      "x-oapi-codegen-extra-tags": {
                        "validate": "required,oneof=icon"
                      }
                    },
                    "iconUrl": {
                      "type": "string",
                      "description": "Ссылка на иконку.",
                      "x-oapi-codegen-extra-tags": {
                        "validate": "required,url"
                      }
                    },
                    "action": {
                      "$ref": "#/components/schemas/Actions",
                      "description": "type: navigation/change_state",
                      "x-oapi-codegen-extra-tags": {
                        "validate": "required"
                      }
                    },
                    "analytics": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Analytics"
                      },
                      "description": "Тип события CLICK",
                      "x-oapi-codegen-extra-tags": {
                        "validate": "omitempty,dive"
                      }
                    }
                  },
                  "required": [
                    "type",
                    "iconUrl",
                    "action"
                  ],
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string",
                      "enum": [
                        "text"
                      ],
                      "description": "Текст",
                      "x-oapi-codegen-extra-tags": {
                        "validate": "required,oneof=text"
                      }
                    },
                    "text": {
                      "type": "string",
                      "description": "Текст экшна.",
                      "x-oapi-codegen-extra-tags": {
                        "validate": "required"
                      }
                    },
                    "action": {
                      "$ref": "#/components/schemas/Actions",
                      "description": "type: navigation/change_state",
                      "x-oapi-codegen-extra-tags": {
                        "validate": "required"
                      }
                    },
                    "analytics": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/Analytics"
                      },
                      "description": "Тип события CLICK",
                      "x-oapi-codegen-extra-tags": {
                        "validate": "omitempty,dive"
                      }
                    }
                  },
                  "required": [
                    "type",
                    "text",
                    "action"
                  ],
                  "additionalProperties": false
                }
              ]
            }
          },
          "content": {
            "type": "object",
            "properties": {
              "title": {
                "type": "string",
                "description": "Основной заголовок.",
                "x-oapi-codegen-extra-tags": {
                  "validate": "required"
                }
              },
              "subtitle": {
                "type": "string",
                "description": "Подзаголовок."
              }
            },
            "required": [
              "title"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "analytics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Analytics"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,dive"
            }
          }
        },
        "required": [
          "type",
          "name",
          "attributes",
          "content"
        ]
      },
      "ButtonAttributes": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип кнопки",
            "enum": [
              "large",
              "medium",
              "action",
              "text"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "required,oneof=large medium action text"
            }
          },
          "size": {
            "type": "string",
            "description": "Размер кнопки",
            "enum": [
              "Default",
              "Small"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,oneof=Default Small"
            }
          },
          "selected": {
            "type": "boolean",
            "default": false,
            "description": "Признак выделения для action button."
          },
          "style": {
            "type": "string",
            "description": "Стиль кнопки.",
            "enum": [
              "primary",
              "secondary",
              "black",
              "transparent",
              "white-transparent",
              "tonal",
              "circle",
              "circle shadow",
              "left icon",
              "right icon",
              "default"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "required,oneof=primary secondary black transparent white-transparent tonal circle 'circle shadow' 'left icon' 'right icon' default"
            }
          },
          "state": {
            "type": "string",
            "enum": [
              "isLoading",
              "isDisabled",
              "isActive"
            ],
            "description": "Текущее состояние кнопки.",
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,oneof=isLoading isDisabled isActive"
            }
          },
          "margin": {
            "$ref": "#/components/schemas/Margin"
          }
        },
        "required": [
          "type",
          "style"
        ]
      },
      "Button": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип компонента ('Button').",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "name": {
            "type": "string",
            "description": "Имя компонента.",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "text": {
            "type": "string",
            "description": "Лейбл кнопки.",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "iconUrl": {
            "type": "string",
            "description": "Ссылка на иконку (при стилях 'left icon'/'right icon').",
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,url"
            }
          },
          "attributes": {
            "$ref": "#/components/schemas/ButtonAttributes",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "actions": {
            "type": "array",
            "description": "Список действий.",
            "items": {
              "$ref": "#/components/schemas/Actions"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "required,dive"
            }
          },
          "analytics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Analytics"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,dive"
            }
          }
        },
        "required": [
          "type",
          "name",
          "text",
          "attributes",
          "actions"
        ]
      },
      "ListItem": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип компонента ('ListItem').",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "name": {
            "type": "string",
            "description": "Имя компонента."
          },
          "attributes": {
            "type": "object",
            "description": "Оформление: вертикальные отступы, выравнивание.",
            "properties": {
              "verticalPaddings": {
                "type": "integer",
                "minimum": -128,
                "maximum": 127,
                "description": "Вертикальные отступы.",
                "x-oapi-codegen-extra-tags": {
                  "validate": "required,min=-128,max=127"
                }
              },
              "alignment": {
                "type": "string",
                "enum": [
                  "top",
                  "center",
                  "bottom"
                ],
                "description": "Выравнивание содержимого.",
                "x-oapi-codegen-extra-tags": {
                  "validate": "required,oneof=top center bottom"
                }
              }
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "leftItem": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/Image"
              },
              {
                "$ref": "#/components/schemas/Video"
              },
              {
                "$ref": "#/components/schemas/Text"
              },
              {
                "$ref": "#/components/schemas/Container"
              }
            ]
          },
          "leftText": {
            "type": "array",
            "description": "Текст(ы) слева.",
            "items": {
              "$ref": "#/components/schemas/Text"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,dive"
            }
          },
          "rightItem": {
            "anyOf": [
              {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "Icon",
                      "CardIcon"
                    ],
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required,oneof=Icon CardIcon"
                    }
                  },
                  "iconUrl": {
                    "type": "string",
                    "description": "URL иконки.",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required,url"
                    }
                  },
                  "color": {
                    "$ref": "#/components/schemas/Color",
                    "description": "Цвет иконки"
                  }
                },
                "required": [
                  "type",
                  "iconUrl"
                ]
              },
              {
                "type": "object",
                "properties": {
                  "type": {
                    "type": "string",
                    "enum": [
                      "BigIcon"
                    ],
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required,oneof=BigIcon"
                    }
                  },
                  "shape": {
                    "type": "string",
                    "description": "Форма (например, circle/square).",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required"
                    }
                  },
                  "iconUrl": {
                    "type": "string",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required,url"
                    }
                  },
                  "color": {
                    "$ref": "#/components/schemas/Color"
                  }
                },
                "required": [
                  "type",
                  "shape",
                  "iconUrl"
                ]
              }
            ]
          },
          "rightText": {
            "type": "array",
            "description": "Текст(ы) справа.",
            "items": {
              "$ref": "#/components/schemas/Text"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,dive"
            }
          },
          "action": {
            "$ref": "#/components/schemas/Action",
            "description": "Действие на весь элемент."
          },
          "analytics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Analytics"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,dive"
            }
          }
        },
        "required": [
          "type",
          "attributes"
        ]
      },
      "Gallery": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип галереи: 'Gallery' или 'Stories'.",
            "enum": [
              "Gallery",
              "Stories"
            ],
            "x-oapi-codegen-extra-tags": {
              "validate": "required,oneof=Gallery Stories"
            }
          },
          "name": {
            "type": "string",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "attributes": {
            "$ref": "#/components/schemas/BlockAttributes",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "children": {
            "type": "array",
            "description": "Список элементов галереи.",
            "items": {
              "$ref": "#/components/schemas/GalleryItem"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "required,dive"
            }
          },
          "topBar": {
            "$ref": "#/components/schemas/TopBar"
          },
          "analytics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Analytics"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,dive"
            }
          }
        },
        "required": [
          "type",
          "name",
          "attributes",
          "children"
        ]
      },
      "GalleryItem": {
        "type": "object",
        "properties": {
          "timeout": {
            "type": "integer",
            "minimum": -128,
            "maximum": 127,
            "description": "Время показа элемента (сек).",
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,min=-128,max=127"
            }
          },
          "children": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/Video"
                },
                {
                  "$ref": "#/components/schemas/Image"
                },
                {
                  "$ref": "#/components/schemas/Text"
                }
              ]
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "required,dive"
            }
          },
          "button": {
            "$ref": "#/components/schemas/Button",
            "description": "Кнопка перелистывания/навигации (actions.type=navigate; to='next' для перелистывания)."
          }
        },
        "required": [
          "children"
        ]
      },
      "Container": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Тип компонента ('Container').",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "name": {
            "type": "string",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "attributes": {
            "$ref": "#/components/schemas/BlockAttributes",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "children": {
            "type": "array",
            "minItems": 1,
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/Button"
                },
                {
                  "$ref": "#/components/schemas/Container"
                },
                {
                  "$ref": "#/components/schemas/Image"
                },
                {
                  "$ref": "#/components/schemas/ListItem"
                },
                {
                  "$ref": "#/components/schemas/Video"
                },
                {
                  "$ref": "#/components/schemas/Text"
                },
                {
                  "$ref": "#/components/schemas/TopBar"
                }
              ]
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "required,dive"
            }
          },
          "action": {
            "$ref": "#/components/schemas/Action",
            "description": "Действие при взаимодействии."
          },
          "analytics": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Analytics"
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,dive"
            }
          }
        },
        "required": [
          "type",
          "name",
          "attributes",
          "children"
        ]
      },
      "Action": {
        "type": "object",
        "properties": {
          "action": {
            "type": "object",
            "oneOf": [
              {
                "type": "object",
                "required": [
                  "actionName",
                  "type",
                  "to"
                ],
                "properties": {
                  "actionName": {
                    "type": "string",
                    "description": "Уникальное в разрезе шаблона человекочитаемое название действия",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required"
                    }
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "navigate"
                    ],
                    "description": "Используется, если мы хотим перевести клиента по ссылке",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required,oneof=navigate toggle_state close back"
                    }
                  },
                  "to": {
                    "type": "string",
                    "description": "Ссылка. В галерее для перехода к другому элементу задается 'next'."
                  }
                },
                "additionalProperties": false
              },
              {
                "type": "object",
                "required": [
                  "actionName",
                  "type",
                  "state"
                ],
                "properties": {
                  "actionName": {
                    "type": "string",
                    "description": "Уникальное в разрезе шаблона человекочитаемое название действия",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required"
                    }
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "toggle_state"
                    ],
                    "description": "Используется, если мы хотим, чтобы клиент изменил состояние текущего компонента",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required,oneof=navigate toggle_state close back"
                    }
                  },
                  "state": {
                    "type": "string",
                    "enum": [
                      "isLoading",
                      "isDisabled",
                      "isActive"
                    ],
                    "description": "Параметр, состояние которого нужно изменить.",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "omitempty,oneof=isLoading isDisabled isActive"
                    }
                  }
                },
                "additionalProperties": false
              },
              {
                "type": "object",
                "required": [
                  "actionName",
                  "type"
                ],
                "properties": {
                  "actionName": {
                    "type": "string",
                    "description": "Уникальное в разрезе шаблона человекочитаемое название действия",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required"
                    }
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "close"
                    ],
                    "description": "Используется, если мы хотим, чтобы клиент закрыл компонент/процесс",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required,oneof=navigate toggle_state close back"
                    }
                  }
                },
                "additionalProperties": false
              },
              {
                "type": "object",
                "required": [
                  "actionName",
                  "type"
                ],
                "properties": {
                  "actionName": {
                    "type": "string",
                    "description": "Уникальное в разрезе шаблона человекочитаемое название действия",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required"
                    }
                  },
                  "type": {
                    "type": "string",
                    "enum": [
                      "back"
                    ],
                    "description": "Используется, если мы хотим, чтобы клиент вернулся на предыдущий экран",
                    "x-oapi-codegen-extra-tags": {
                      "validate": "required,oneof=navigate toggle_state close back"
                    }
                  }
                },
                "additionalProperties": false
              }
            ],
            "additionalProperties": false
          }
        },
        "required": [
          "action"
        ]
      },
      "Actions": {
        "type": "object",
        "properties": {
          "actions": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "type": "object",
                  "required": [
                    "actionName",
                    "type",
                    "to"
                  ],
                  "properties": {
                    "actionName": {
                      "type": "string",
                      "description": "Уникальное название действия"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "navigate"
                      ],
                      "description": "Перевод клиента по ссылке"
                    },
                    "to": {
                      "type": "string",
                      "description": "Ссылка, либо 'next' для галереи"
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "required": [
                    "actionName",
                    "type",
                    "state"
                  ],
                  "properties": {
                    "actionName": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "toggle_state"
                      ],
                      "description": "Изменить состояние текущего компонента"
                    },
                    "state": {
                      "type": "string",
                      "enum": [
                        "isLoading",
                        "isDisabled",
                        "isActive"
                      ]
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "required": [
                    "actionName",
                    "type"
                  ],
                  "properties": {
                    "actionName": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "close"
                      ],
                      "description": "Закрыть компонент/процесс"
                    }
                  },
                  "additionalProperties": false
                },
                {
                  "type": "object",
                  "required": [
                    "actionName",
                    "type"
                  ],
                  "properties": {
                    "actionName": {
                      "type": "string"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "back"
                      ],
                      "description": "Вернуться на предыдущий экран"
                    }
                  },
                  "additionalProperties": false
                }
              ]
            }
          }
        },
        "required": [
          "actions"
        ]
      },
      "Analytics": {
        "type": "object",
        "properties": {
          "analytics": {
            "type": "array",
            "description": "Содержит всю информацию о событии: когда, где, как, что и во сколько произошло на устройстве пользователя",
            "items": {
              "type": "object",
              "properties": {
                "event": {
                  "type": "object",
                  "description": "Тип и параметры события (структура задаётся командой аналитики)",
                  "properties": {
                    "refName": {
                      "type": "string",
                      "description": "Ссылка для связки аналитики с действием либо компонентом"
                    },
                    "eventName": {
                      "type": "string",
                      "description": "Человекочитаемое название события"
                    },
                    "eventVersion": {
                      "type": "string",
                      "description": "Версия события"
                    },
                    "job": {
                      "type": "string",
                      "description": "Например, transfers_by_card_number"
                    },
                    "params": {
                      "type": "object",
                      "additionalProperties": true,
                      "description": "Продуктовые параметры события"
                    },
                    "type": {
                      "type": "string",
                      "enum": [
                        "VIEW",
                        "CLICK",
                        "INPUT",
                        "SCROLL",
                        "SWIPE",
                        "DRAG",
                        "ERROR",
                        "SUCCESS",
                        "PUSH",
                        "LOAD"
                      ],
                      "x-oapi-codegen-extra-tags": {
                        "validate": "omitempty,oneof=VIEW CLICK INPUT SCROLL SWIPE DRAG ERROR SUCCESS PUSH LOAD"
                      }
                    }
                  },
                  "required": [
                    "refName",
                    "eventName",
                    "type"
                  ],
                  "x-oapi-codegen-extra-tags": {
                    "validate": "required"
                  }
                },
                "isInteractive": {
                  "type": "boolean",
                  "description": "Учитывать ли событие при формировании сессии",
                  "x-oapi-codegen-extra-tags": {
                    "validate": "required"
                  }
                }
              },
              "required": [
                "event",
                "isInteractive"
              ]
            },
            "x-oapi-codegen-extra-tags": {
              "validate": "omitempty,dive"
            }
          }
        }
      },
      "AdminTemplateVersionStatusItem": {
        "type": "object",
        "description": "Статусы версий шаблонов",
        "required": [
          "key",
          "value"
        ],
        "properties": {
          "key": {
            "type": "string",
            "description": "Человекочитаемое имя"
          },
          "value": {
            "type": "string",
            "description": "Значение enum поля",
            "example": "enabled/disabled"
          }
        }
      },
      "AdminTemplateListItem": {
        "type": "object",
        "description": "Элемент списка шаблонов для админки",
        "required": [
          "id",
          "name",
          "code",
          "currentVersionId",
          "applicationVersion"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Уникальный идентификатор шаблона"
          },
          "code": {
            "type": "string",
            "maxLength": 256,
            "description": "Код шаблона",
            "example": "bannermain_123"
          },
          "name": {
            "type": "string",
            "maxLength": 256,
            "description": "Человекочитаемое название шаблона",
            "example": "Баннер на главном экране под строкой поиска"
          },
          "applicationVersion": {
            "type": "object",
            "properties": {
              "ios": {
                "type": "string"
              },
              "android": {
                "type": "string"
              }
            }
          },
          "currentVersionId": {
            "type": "string",
            "description": "Идентификатор текущей активной версии; null, если активной версии нетю"
          }
        }
      },
      "AdminTemplate": {
        "type": "object",
        "description": "Элемент списка шаблонов для админки",
        "required": [
          "id",
          "name",
          "code",
          "currentVersionId",
          "applicationVersion"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Уникальный идентификатор шаблона"
          },
          "code": {
            "type": "string",
            "maxLength": 256,
            "description": "Код шаблона",
            "example": "bannermain_123"
          },
          "name": {
            "type": "string",
            "maxLength": 256,
            "description": "Человекочитаемое название шаблона",
            "example": "Баннер на главном экране под строкой поиска"
          },
          "applicationVersion": {
            "type": "object",
            "properties": {
              "ios": {
                "type": "string"
              },
              "android": {
                "type": "string"
              }
            }
          },
          "currentVersionId": {
            "type": "string",
            "description": "Идентификатор текущей активной версии; null, если активной версии нетю"
          }
        }
      },
      "CreateAdminTemplateRequest": {
        "type": "object",
        "required": [
          "code",
          "name",
          "uiComponents"
        ],
        "properties": {
          "code": {
            "type": "string",
            "maxLength": 256,
            "description": "Код шаблона",
            "example": "bannermain_123",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "name": {
            "type": "string",
            "maxLength": 256,
            "description": "Человекочитаемое название шаблона",
            "example": "Баннер на главном экране под строкой поиска",
            "x-oapi-codegen-extra-tags": {
              "validate": "required"
            }
          },
          "uiComponents": {
            "description": "UI компонент(ы) версии шаблона",
            "oneOf": [
              {
                "$ref": "#/components/schemas/Container"
              },
              {
                "$ref": "#/components/schemas/Button"
              },
              {
                "$ref": "#/components/schemas/Gallery"
              },
              {
                "$ref": "#/components/schemas/Image"
              },
              {
                "$ref": "#/components/schemas/ListItem"
              },
              {
                "$ref": "#/components/schemas/Text"
              },
              {
                "$ref": "#/components/schemas/TopBar"
              },
              {
                "$ref": "#/components/schemas/Video"
              }
            ]
          }
        }
      },
      "UpdateAdminTemplateRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 256,
            "description": "Человекочитаемое название шаблона"
          },
          "applicationVersion": {
            "type": "object",
            "properties": {
              "ios": {
                "type": "string"
              },
              "android": {
                "type": "string"
              }
            }
          }
        }
      },
      "CreateAdminTemplateResponse": {
        "type": "object",
        "required": [
          "id",
          "code",
          "status",
          "version"
        ],
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "enabled",
              "disabled"
            ],
            "default": "disabled",
            "description": "Статус версии шаблона"
          },
          "id": {
            "type": "string",
            "format": "uuid",
            "description": "Уникальный идентификатор шаблона"
          },
          "code": {
            "type": "string",
            "description": "Код шаблона"
          },
          "version": {
            "type": "string",
            "description": "Номер версии (инкрементальный)"
          }
        }
      },
      "CreateAdminTemplateVersionResponse": {
        "type": "object",
        "required": [
          "id",
          "version",
          "createdAt",
          "createdBy",
          "status"
        ],
        "properties": {
          "id": {
            "type": "string"
          },
          "version": {
            "type": "string"
          },
          "status": {
            "type": "string",
            "enum": [
              "enabled",
              "disabled"
            ],
            "default": "disabled"
          },
          "createdAt": {
            "type": "integer",
            "format": "int64"
          },
          "createdBy": {
            "type": "string"
          }
        }
      },
      "AdminTemplateVersionListItem": {
        "type": "object",
        "required": [
          "id",
          "version",
          "status",
          "createdAt",
          "createdBy",
          "updatedAt",
          "updatedBy"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "version": {
            "type": "string",
            "description": "Номер версии (инкрементальный)"
          },
          "status": {
            "type": "string",
            "enum": [
              "enabled",
              "disabled"
            ]
          },
          "createdAt": {
            "type": "integer",
            "format": "int64",
            "description": "Дата создания версии шаблона"
          },
          "createdBy": {
            "type": "string",
            "description": "Кем создана версия шаблона"
          },
          "updatedAt": {
            "type": "integer",
            "format": "int64"
          },
          "updatedBy": {
            "type": "string"
          }
        }
      },
      "AdminTemplateVersion": {
        "type": "object",
        "required": [
          "id",
          "version",
          "templateId",
          "status",
          "createdAt",
          "createdBy",
          "updatedAt",
          "updatedBy",
          "uiComponents"
        ],
        "properties": {
          "id": {
            "type": "string",
            "format": "uuid"
          },
          "version": {
            "type": "string"
          },
          "templateId": {
            "type": "string",
            "format": "uuid"
          },
          "status": {
            "type": "string",
            "enum": [
              "enabled",
              "disabled"
            ]
          },
          "createdAt": {
            "type": "integer",
            "format": "int64"
          },
          "createdBy": {
            "type": "string"
          },
          "updatedAt": {
            "type": "integer",
            "format": "int64"
          },
          "updatedBy": {
            "type": "string"
          },
          "uiComponents": {
            "description": "UI компонент(ы) версии шаблона",
            "oneOf": [
              {
                "$ref": "#/components/schemas/Container"
              },
              {
                "$ref": "#/components/schemas/Button"
              },
              {
                "$ref": "#/components/schemas/Gallery"
              },
              {
                "$ref": "#/components/schemas/Image"
              },
              {
                "$ref": "#/components/schemas/ListItem"
              },
              {
                "$ref": "#/components/schemas/Text"
              },
              {
                "$ref": "#/components/schemas/TopBar"
              },
              {
                "$ref": "#/components/schemas/Video"
              }
            ]
          }
        }
      },
      "CreateAdminTemplateVersionRequest": {
        "type": "object",
        "required": [
          "uiComponents"
        ],
        "properties": {
          "uiComponents": {
            "description": "UI компонент(ы) версии шаблона",
            "oneOf": [
              {
                "$ref": "#/components/schemas/Container"
              },
              {
                "$ref": "#/components/schemas/Button"
              },
              {
                "$ref": "#/components/schemas/Gallery"
              },
              {
                "$ref": "#/components/schemas/Image"
              },
              {
                "$ref": "#/components/schemas/ListItem"
              },
              {
                "$ref": "#/components/schemas/Text"
              },
              {
                "$ref": "#/components/schemas/TopBar"
              },
              {
                "$ref": "#/components/schemas/Video"
              }
            ]
          }
        }
      },
      "Template": {
        "type": "object",
        "properties": {
          "template_id": {
            "type": "string",
            "description": "Уникальный идентификатор шаблона"
          },
          "template_name": {
            "type": "string",
            "description": "Человекочитаемое название шаблона"
          },
          "template_segment": {
            "type": "string",
            "description": "Сегменты шаблона"
          },
          "output": {
            "description": "UI компонент(ы) версии шаблона",
            "oneOf": [
              {
                "$ref": "#/components/schemas/Container"
              },
              {
                "$ref": "#/components/schemas/Button"
              },
              {
                "$ref": "#/components/schemas/Gallery"
              },
              {
                "$ref": "#/components/schemas/Image"
              },
              {
                "$ref": "#/components/schemas/ListItem"
              },
              {
                "$ref": "#/components/schemas/Text"
              },
              {
                "$ref": "#/components/schemas/TopBar"
              },
              {
                "$ref": "#/components/schemas/Video"
              }
            ]
          }
        },
        "required": [
          "template_id",
          "template_name",
          "output"
        ],
        "additionalProperties": false,
        "description": "Шаблон"
      }
    }
  },
  "paths": {
    "/admin/templates/version_statuses": {
      "get": {
        "operationId": "getTemplateVersionStatuses",
        "tags": [
          "AdminControl"
        ],
        "summary": "Список статусов для версии шаблона",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/X-Request-ID"
          },
          {
            "$ref": "#/components/parameters/XUserId"
          }
        ],
        "responses": {
          "200": {
            "description": "Cписок статусов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AdminTemplateVersionStatusItem"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "429": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "504": {
            "$ref": "#/components/responses/ErrorResponse"
          }
        }
      }
    },
    "/admin/templates": {
      "post": {
        "operationId": "createAdminTemplate",
        "tags": [
          "AdminControl"
        ],
        "summary": "Создать шаблон",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "$ref": "#/components/parameters/X-Request-ID"
          },
          {
            "$ref": "#/components/parameters/XUserId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAdminTemplateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Успешное создание шаблона",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateAdminTemplateResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "429": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "504": {
            "$ref": "#/components/responses/ErrorResponse"
          }
        }
      },
      "get": {
        "operationId": "getAdminTemplates",
        "tags": [
          "AdminControl"
        ],
        "summary": "Список шаблонов",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Номер страницы"
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 20
            },
            "description": "Размер страницы"
          },
          {
            "$ref": "#/components/parameters/X-Request-ID"
          },
          {
            "$ref": "#/components/parameters/XUserId"
          }
        ],
        "responses": {
          "200": {
            "description": "Список шаблонов",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AdminTemplateListItem"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "429": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "504": {
            "$ref": "#/components/responses/ErrorResponse"
          }
        }
      }
    },
    "/admin/templates/{templateId}": {
      "patch": {
        "operationId": "updateAdminTemplate",
        "tags": [
          "AdminControl"
        ],
        "summary": "Обновить атрибуты шаблона (templateCode неизменяем)",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "templateId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "$ref": "#/components/parameters/X-Request-ID"
          },
          {
            "$ref": "#/components/parameters/XUserId"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateAdminTemplateRequest"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Шаблон успешно обновлен"
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "429": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "504": {
            "$ref": "#/components/responses/ErrorResponse"
          }
        }
      },
      "get": {
        "operationId": "getAdminTemplateByID",
        "tags": [
          "AdminControl"
        ],
        "summary": "Получить шаблон",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "templateId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminTemplate"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "429": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "504": {
            "$ref": "#/components/responses/ErrorResponse"
          }
        }
      }
    },
    "/admin/templates/{templateId}/versions": {
      "get": {
        "operationId": "getAdminTemplateVersions",
        "tags": [
          "AdminControl"
        ],
        "summary": "Список версий шаблона",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "templateId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "page",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1
            },
            "description": "Номер страницы"
          },
          {
            "name": "pageSize",
            "in": "query",
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 20
            },
            "description": "Размер страницы"
          },
          {
            "$ref": "#/components/parameters/X-Request-ID"
          },
          {
            "$ref": "#/components/parameters/XUserId"
          }
        ],
        "responses": {
          "200": {
            "description": "Массив версий",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AdminTemplateVersionListItem"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "429": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "504": {
            "$ref": "#/components/responses/ErrorResponse"
          }
        }
      },
      "post": {
        "operationId": "createAdminTemplateVersion",
        "tags": [
          "AdminControl"
        ],
        "summary": "Создание новой версии шаблона",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "templateId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateAdminTemplateVersionRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Успешное создание шаблона",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateAdminTemplateVersionResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "429": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "504": {
            "$ref": "#/components/responses/ErrorResponse"
          }
        }
      }
    },
    "/admin/templates/{templateId}/versions/{versionId}": {
      "get": {
        "operationId": "getAdminTemplateVersionByID",
        "tags": [
          "AdminControl"
        ],
        "summary": "Получить версию шаблона",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "templateId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "versionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "$ref": "#/components/parameters/X-Request-ID"
          },
          {
            "$ref": "#/components/parameters/XUserId"
          }
        ],
        "responses": {
          "200": {
            "description": "Версия шаблона",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AdminTemplateVersion"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "429": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "504": {
            "$ref": "#/components/responses/ErrorResponse"
          }
        }
      }
    },
    "/admin/templates/{templateId}/versions/{versionId}/enable": {
      "post": {
        "operationId": "enableAdminTemplateVersion",
        "tags": [
          "AdminControl"
        ],
        "summary": "Включить выбранную версию шаблона",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "templateId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "versionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "$ref": "#/components/parameters/X-Request-ID"
          },
          {
            "$ref": "#/components/parameters/XUserId"
          }
        ],
        "responses": {
          "204": {
            "description": "Версия включена (все предыдущие становится disabled)"
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "429": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "504": {
            "$ref": "#/components/responses/ErrorResponse"
          }
        }
      }
    },
    "/admin/templates/{templateId}/versions/{versionId}/disable": {
      "post": {
        "operationId": "disableAdminTemplateVersion",
        "tags": [
          "AdminControl"
        ],
        "summary": "Выключить выбранную версию шаблона",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "templateId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "name": "versionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "uuid"
            }
          },
          {
            "$ref": "#/components/parameters/X-Request-ID"
          },
          {
            "$ref": "#/components/parameters/XUserId"
          }
        ],
        "responses": {
          "204": {
            "description": "Выключение версии (становится disabled)"
          },
          "400": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "401": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "429": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "504": {
            "$ref": "#/components/responses/ErrorResponse"
          }
        }
      }
    },
    "/templates/{templateCode}": {
      "get": {
        "tags": [
          "Public"
        ],
        "summary": "Получить активный шаблон (только версия в статусе enabled)",
        "operationId": "getTemplateByCode",
        "security": [
          {
            "ApiKeyAuth": []
          }
        ],
        "parameters": [
          {
            "name": "templateCode",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "$ref": "#/components/parameters/XAppVersion"
          },
          {
            "$ref": "#/components/parameters/XAppPlatform"
          },
          {
            "$ref": "#/components/parameters/X-Request-ID"
          },
          {
            "$ref": "#/components/parameters/XUserId"
          },
          {
            "$ref": "#/components/parameters/XLocale"
          }
        ],
        "responses": {
          "200": {
            "description": "Активный шаблон",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Template"
                }
              }
            }
          },

          "401": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "403": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "404": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "429": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "500": {
            "$ref": "#/components/responses/ErrorResponse"
          },
          "504": {
            "$ref": "#/components/responses/ErrorResponse"
          }
        }
      }
    }
  }
}
